{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport http from '@/utils/request';\nimport { ElLoading } from 'element-plus';\nimport { watch } from 'vue';\nexport default {\n  data() {\n    return {\n      details: {},\n      tip: 'Do not have this information',\n      participatedRallies: [],\n      avatarUrl: '',\n      couples: []\n    };\n  },\n  methods: {\n    userInfo(id) {\n      this.$router.push({\n        path: \"/MembersDetails\",\n        query: {\n          id\n        }\n      });\n    }\n  },\n  created() {\n    let {\n      id\n    } = this.$route.query;\n    const loadingInstance = ElLoading.service({\n      lock: true,\n      text: \"Loading\",\n      background: \"rgba(0, 0, 0, 0.7)\"\n    });\n    http.get(`/api/mine/queryInfo?id=${id}`).then(res => {\n      let {\n        data,\n        status\n      } = res.data;\n      console.log(status);\n      if (status === 0) {\n        this.details = data;\n        this.avatarUrl = this.details.avatar || 'http://akarana.oss-ap-southeast-1.aliyuncs.com/car1.jpg';\n        console.log(this.details);\n\n        // 获取具有相同 \"couples\" 值的其他用户\n        http.get(`/api/members/couples?couples=${this.details.couples}`).then(res => {\n          let {\n            data,\n            status\n          } = res.data;\n          if (status === 0) {\n            this.couples = data.filter(user => user.id !== this.details.id).map(user => ({\n              id: user.id,\n              name: `${user.firstName} ${user.lastName}`,\n              avatar: user.avatar || 'http://akarana.oss-ap-southeast-1.aliyuncs.com/car1.jpg'\n            }));\n          }\n        });\n      }\n      loadingInstance.close(); // 关闭加载动画\n    });\n\n    // 获取用户参加过的 rally\n    http.get(`/api/participatedRallies/userRallies?userid=${id}`).then(res => {\n      let {\n        data,\n        status\n      } = res.data;\n      if (status === 0) {\n        this.participatedRallies = data;\n      }\n    });\n  }\n};","map":{"version":3,"names":["http","ElLoading","watch","data","details","tip","participatedRallies","avatarUrl","couples","methods","userInfo","id","$router","push","path","query","created","$route","loadingInstance","service","lock","text","background","get","then","res","status","console","log","avatar","filter","user","map","name","firstName","lastName","close"],"sources":["/Users/wucongzhen/Documents/GitHub/Akarana/src/src/views/MembersDetails.vue"],"sourcesContent":["<template>\n  <div style=\"margin: auto;\">\n    <Header :handleCollapse=\"handleCollapse\" :isCollapse=\"isCollapse\" />\n    <div class=\"container\">\n      <!-- let details transfer to Json -->\n      <div v-if=\"JSON.stringify(details) !== '{}'\">\n        <!-- show user details -->\n        <h1 style=\"font-size: 26px;\">{{ details.firstName + ' ' + details.lastName }} </h1>\n        <img :src=\"avatarUrl\" alt=\"用户头像\" class=\"user-avatar\" />\n\n        <div class=\"small_item\">\n          <h3 style=\"margin-top: 20px;\">FirstName</h3>\n          <p>{{ details.firstName ? details.firstName : tip }}</p>\n        </div>\n\n        <div class=\"small_item\">\n          <h3 style=\"margin-top: 20px;\">LastName</h3>\n          <p>{{ details.lastName ? details.lastName : tip }}</p>\n        </div>\n        <div class=\"small_item\">\n          <h3 style=\"margin-top: 20px;\">Username</h3>\n          <p>{{ details.username ? details.username : tip }}</p>\n        </div>\n        \n        <div class=\"small_item\">\n          <h3 style=\"margin-top: 20px;\">Address</h3>\n          <p>{{ details.address ? details.address : tip }}</p>\n        </div>\n\n        <div class=\"small_item\">\n          <h3 style=\"margin-top: 20px;\">PhoneNumber</h3>\n          <p>{{ details.phoneNumber ? details.phoneNumber : tip }}</p>\n        </div>\n\n        <div class=\"small_item\">\n          <h3 style=\"margin-top: 20px;\">EmailAddress</h3>\n          <p>{{ details.emailAddress ? details.emailAddress : tip }}</p>\n        </div>\n        <div class=\"small_item\">\n          <h3 style=\"margin-top: 20px;\">Birthday</h3>\n          <p>{{ details.birthday ? details.birthday : tip }}</p>\n        </div>\n      \n<!-- couples -->\n<div class=\"small_item\">\n  <h3 style=\"margin-top: 20px\">Couples:</h3>\n  <div v-if=\"couples.length\">\n    <div v-for=\"(couple, index) in couples\" :key=\"index\" class=\"couple-item\">\n      <img :src=\"couple.avatar\" alt=\"用户头像\" class=\"user-avatar\" />\n      <a @click=\"userInfo(couple.id)\" class=\"couple-name\">{{ couple.name }}</a>\n    </div>\n  </div>\n  <div v-else>\n    <p>No couples found</p>\n  </div>\n</div>\n\n\n\n        <!-- Add a section for participated rallies -->\n<div class=\"small_item\">\n<h3 style=\"margin-top: 20px;\">Participated Rallies</h3>\n<template v-if=\"participatedRallies.length\">\n  <ul>\n    <li v-for=\"rally in participatedRallies\" :key=\"rally.id\">\n      {{ rally.mainTitle }}\n    </li>\n  </ul>\n</template>\n<template v-else>\n  <p>Have not add any activity</p>\n</template>\n</div>\n\n      </div>\n    \n    </div>\n  </div>\n</template>\n  \n<script >\nimport http from '@/utils/request'\nimport { ElLoading } from 'element-plus';\nimport { watch } from 'vue';\n\nexport default {\n  data() {\n    return {\n      details: {},\n      tip: 'Do not have this information',\n      participatedRallies: [],\n      avatarUrl: '',\n      couples:[]\n\n    }\n  },\n  methods: {\n    userInfo(id) {\n    this.$router.push({\n      path: \"/MembersDetails\",\n      query: {\n        id,\n      },\n    });\n  },\n  },\n  created() {\n  let { id } = this.$route.query;\n  const loadingInstance = ElLoading.service({\n    lock: true,\n    text: \"Loading\",\n    background: \"rgba(0, 0, 0, 0.7)\",\n  });\n\n  http.get(`/api/mine/queryInfo?id=${id}`).then(res => {\n    let { data, status } = res.data;\n    console.log(status);\n    if (status === 0) {\n      this.details = data;\n      this.avatarUrl = this.details.avatar || 'http://akarana.oss-ap-southeast-1.aliyuncs.com/car1.jpg';\n      console.log(this.details);\n\n      \n// 获取具有相同 \"couples\" 值的其他用户\nhttp.get(`/api/members/couples?couples=${this.details.couples}`).then(res => {\n  let { data, status } = res.data;\n  if (status === 0) {\n    this.couples = data.filter(user => user.id !== this.details.id)\n                       .map(user => ({\n                         id: user.id,\n                         name: `${user.firstName} ${user.lastName}`,\n                         avatar: user.avatar || 'http://akarana.oss-ap-southeast-1.aliyuncs.com/car1.jpg'\n                       }));\n  }\n})\n\n\n    }\n    loadingInstance.close(); // 关闭加载动画\n  })\n\n  // 获取用户参加过的 rally\n  http.get(`/api/participatedRallies/userRallies?userid=${id}`).then((res) => {\n    let { data, status } = res.data;\n    if (status === 0) {\n      this.participatedRallies = data;\n    }\n  });\n}\n\n}\n</script>\n  \n<style scoped>\n@import url(\"https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap\");\n\n* {\n  margin: 0;\n  padding: 0;\n  font-family: \"Roboto\", sans-serif;\n}\n\nbody {\n  background-image: linear-gradient(to right, #84fab0 0%, #8fd3f4 100%);\n}\n\n.clearfix:after {\n  content: \"\";\n  display: block;\n  height: 0;\n  clear: both;\n}\n\n.small_item p {\n  margin: 10px 0px;\n  letter-spacing: 2px;\n  color: #747474;\n  transition: 0.3s;\n  transform: scale(1);\n  box-shadow: none;\n}\n\n.small_item p:hover {\n  color: #333;\n  transform: scale(1.05);\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);\n}\n\n\n.small_item h3 {\n  color: #5e5e5e;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.p {\n  color: #6c6b6b;\n}\n\n.btn {\n  cursor: pointer;\n  color: #FFFFFF;\n  padding: 10px 20px;\n  letter-spacing: 2px;\n  border-radius: 30px;\n  background-image: linear-gradient(90deg, rgb(149, 223, 236), rgb(138, 226, 138));\n  transition: 0.3s;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.btn:hover {\n  background-image: linear-gradient(90deg, rgb(138, 226, 138), rgb(149, 223, 236));\n  box-shadow: 0 6px 8px rgba(0, 0, 0, 0.2);\n}\n\n.section_join {\n  margin: 20px 0px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-radius: 6px;\n  padding: 20px 30px;\n  background-color: #fafafa;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.content {\n  letter-spacing: 1px;\n  line-height: 40px;\n}\n\n.img {\n  border-radius: 10px;\n  object-fit: cover;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  transition: 0.3s;\n}\n\n.container {\n  padding: 20px 20%;\n}\n\n.user-avatar {\n  width: 200px;\n  height: 200px;\n  border-radius: 50%;\n  object-fit: cover;\n  margin-top: 30px;\n  margin-bottom: 30px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.img:hover {\n  transform: scale(1.05);\n  box-shadow: 0 6px 8px rgba(0, 0, 0, 0.2);\n}\n.couple-item {\n  display: flex;\n  align-items: center;\n\n}\n\n.couple-item .user-avatar {\n  width: 50px;\n  height: 50px;\n  margin-right: 10px;\n}\n\n</style>\n"],"mappings":";AAiFA,OAAOA,IAAG,MAAO,iBAAgB;AACjC,SAASC,SAAQ,QAAS,cAAc;AACxC,SAASC,KAAI,QAAS,KAAK;AAE3B,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE,CAAC,CAAC;MACXC,GAAG,EAAE,8BAA8B;MACnCC,mBAAmB,EAAE,EAAE;MACvBC,SAAS,EAAE,EAAE;MACbC,OAAO,EAAC;IAEV;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,QAAQA,CAACC,EAAE,EAAE;MACb,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;QAChBC,IAAI,EAAE,iBAAiB;QACvBC,KAAK,EAAE;UACLJ;QACF;MACF,CAAC,CAAC;IACJ;EACA,CAAC;EACDK,OAAOA,CAAA,EAAG;IACV,IAAI;MAAEL;IAAG,IAAI,IAAI,CAACM,MAAM,CAACF,KAAK;IAC9B,MAAMG,eAAc,GAAIjB,SAAS,CAACkB,OAAO,CAAC;MACxCC,IAAI,EAAE,IAAI;MACVC,IAAI,EAAE,SAAS;MACfC,UAAU,EAAE;IACd,CAAC,CAAC;IAEFtB,IAAI,CAACuB,GAAG,CAAE,0BAAyBZ,EAAG,EAAC,CAAC,CAACa,IAAI,CAACC,GAAE,IAAK;MACnD,IAAI;QAAEtB,IAAI;QAAEuB;MAAO,IAAID,GAAG,CAACtB,IAAI;MAC/BwB,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;MACnB,IAAIA,MAAK,KAAM,CAAC,EAAE;QAChB,IAAI,CAACtB,OAAM,GAAID,IAAI;QACnB,IAAI,CAACI,SAAQ,GAAI,IAAI,CAACH,OAAO,CAACyB,MAAK,IAAK,yDAAyD;QACjGF,OAAO,CAACC,GAAG,CAAC,IAAI,CAACxB,OAAO,CAAC;;QAG/B;QACAJ,IAAI,CAACuB,GAAG,CAAE,gCAA+B,IAAI,CAACnB,OAAO,CAACI,OAAQ,EAAC,CAAC,CAACgB,IAAI,CAACC,GAAE,IAAK;UAC3E,IAAI;YAAEtB,IAAI;YAAEuB;UAAO,IAAID,GAAG,CAACtB,IAAI;UAC/B,IAAIuB,MAAK,KAAM,CAAC,EAAE;YAChB,IAAI,CAAClB,OAAM,GAAIL,IAAI,CAAC2B,MAAM,CAACC,IAAG,IAAKA,IAAI,CAACpB,EAAC,KAAM,IAAI,CAACP,OAAO,CAACO,EAAE,EAC1CqB,GAAG,CAACD,IAAG,KAAM;cACZpB,EAAE,EAAEoB,IAAI,CAACpB,EAAE;cACXsB,IAAI,EAAG,GAAEF,IAAI,CAACG,SAAS,IAAIH,IAAI,CAACI,QAAS,EAAC;cAC1CN,MAAM,EAAEE,IAAI,CAACF,MAAK,IAAK;YACzB,CAAC,CAAC,CAAC;UACxB;QACF,CAAC;MAGG;MACAX,eAAe,CAACkB,KAAK,EAAE,EAAE;IAC3B,CAAC;;IAED;IACApC,IAAI,CAACuB,GAAG,CAAE,+CAA8CZ,EAAG,EAAC,CAAC,CAACa,IAAI,CAAEC,GAAG,IAAK;MAC1E,IAAI;QAAEtB,IAAI;QAAEuB;MAAO,IAAID,GAAG,CAACtB,IAAI;MAC/B,IAAIuB,MAAK,KAAM,CAAC,EAAE;QAChB,IAAI,CAACpB,mBAAkB,GAAIH,IAAI;MACjC;IACF,CAAC,CAAC;EACJ;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}