{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, computed } from \"vue\";\nimport http from \"@/utils/request\";\nimport { ElLoading } from \"element-plus\";\nexport default {\n  // beforeCreate() {\n  //     alert('Hello')\n  // },\n  created() {\n    this.getList();\n    console.log(this);\n  },\n  data() {\n    return {\n      users: [],\n      groupedUsers: {},\n      searchKey: \"\",\n      sortOrder: \"asc\",\n      sortOptions: [{\n        value: \"asc\",\n        label: \"A-Z\"\n      }, {\n        value: \"desc\",\n        label: \"Z-A\"\n      }]\n    };\n  },\n  methods: {\n    // 跳转到用户详情\n    userInfo(id) {\n      this.$router.push({\n        path: \"/MembersDetails\",\n        query: {\n          id\n        }\n      });\n    },\n    async getList() {\n      let {\n        data,\n        status\n      } = (await http.get(`/api/members`)).data;\n      if (status === 0) {\n        this.users = data.map(item => {\n          return {\n            ...item,\n            name: item.firstName + \" \" + item.lastName,\n            avatar: item.avatar\n          };\n        });\n        this.group();\n      } else {\n        this.users = [];\n      }\n    },\n    group(serch) {\n      console.log(1);\n      let users = [...this.users];\n      const filtered = users.filter(user => {\n        return user.name.toLowerCase().includes(this.searchKey.toLowerCase());\n      });\n      console.log(this.sortOrder);\n      if (this.sortOrder === \"asc\") {\n        filtered.sort((a, b) => a.name.localeCompare(b.name));\n      } else {\n        filtered.sort((a, b) => b.name.localeCompare(a.name));\n      }\n      const groupedUsers = {};\n      filtered.forEach(user => {\n        const firstLetter = user.name[0].toUpperCase();\n        if (!groupedUsers[firstLetter]) {\n          groupedUsers[firstLetter] = [];\n        }\n        groupedUsers[firstLetter].push(user);\n      });\n      this.groupedUsers = groupedUsers;\n      console.log(this.groupedUsers);\n\n      // return groupedUsers\n    }\n  }\n};","map":{"version":3,"names":["ref","computed","http","ElLoading","created","getList","console","log","data","users","groupedUsers","searchKey","sortOrder","sortOptions","value","label","methods","userInfo","id","$router","push","path","query","status","get","map","item","name","firstName","lastName","avatar","group","serch","filtered","filter","user","toLowerCase","includes","sort","a","b","localeCompare","forEach","firstLetter","toUpperCase"],"sources":["/Users/wucongzhen/Documents/GitHub/Akarana/src/src/views/Members.vue"],"sourcesContent":["<template>\n    <div>\n        <Header :handleCollapse=\"handleCollapse\" :isCollapse=\"isCollapse\" />\n\n        <div class=\"container\">\n\n            <el-input class=\"search-input\" v-model=\"searchKey\" placeholder=\"Search\" prefix-icon=\"Search\"  @input=\"group\"/>\n            <el-select v-model=\"sortOrder\" class=\"sort-select\" placeholder=\"Sort Order\" @change=\"group\">\n                <el-option v-for=\"option in sortOptions\" :key=\"option.value\" :value=\"option.value\"\n                    :label=\"option.label\">\n                </el-option>\n            </el-select>\n            <ul class=\"user-list\">\n                <li v-for=\"(users, firstLetter,) in groupedUsers\" :key=\"firstLetter\">\n                    <h3>{{ firstLetter }}</h3>\n                    <ul>\n                        <li @click=\"userInfo(user.id)\" v-for=\"user in users\" :key=\"user.name\">\n                            <img :src=\"user.avatar || 'http://akarana.oss-ap-southeast-1.aliyuncs.com/uploads/avatars/Yijun-1682600472281.jpeg'\" alt=\"用户头像\" class=\"user-avatar\" />\n                            <span class=\"user-name\">{{ user.name }}</span>\n                        </li>\n                    </ul>\n                </li>\n            </ul>\n        </div>\n    </div>\n</template>\n\n\n\n<script>\nimport { ref, computed } from \"vue\";\nimport http from \"@/utils/request\";\nimport { ElLoading } from \"element-plus\";\n\nexport default {\n  // beforeCreate() {\n  //     alert('Hello')\n  // },\n  created() {\n    this.getList();\n    console.log(this);\n  },\n  data() {\n    return {\n      users: [],\n      groupedUsers: {},\n      searchKey: \"\",\n\n      sortOrder: \"asc\",\n      sortOptions: [\n        { value: \"asc\", label: \"A-Z\" },\n        { value: \"desc\", label: \"Z-A\" },\n      ],\n    };\n  },\n  methods: {\n    // 跳转到用户详情\n    userInfo(id) {\n      this.$router.push({\n        path: \"/MembersDetails\",\n        query: {\n          id,\n        },\n      });\n    },\n    async getList() {\n      let { data, status } = (await http.get(`/api/members`)).data;\n      if (status === 0) {\n        this.users = data.map((item) => {\n          return {\n            ...item,\n            name: item.firstName + \" \" + item.lastName,\n            avatar: item.avatar,\n          };\n        });\n\n        this.group();\n      } else {\n        this.users = [];\n      }\n    },\n    group(serch) {\n      console.log(1);\n      let users = [...this.users];\n\n      const filtered = users.filter((user) => {\n        return user.name.toLowerCase().includes(this.searchKey.toLowerCase());\n      });\n\n      console.log(this.sortOrder);\n\n      if (this.sortOrder === \"asc\") {\n        filtered.sort((a, b) => a.name.localeCompare(b.name));\n      } else {\n        filtered.sort((a, b) => b.name.localeCompare(a.name));\n      }\n\n      const groupedUsers = {};\n      filtered.forEach((user) => {\n        const firstLetter = user.name[0].toUpperCase();\n        if (!groupedUsers[firstLetter]) {\n          groupedUsers[firstLetter] = [];\n        }\n        groupedUsers[firstLetter].push(user);\n      });\n\n      this.groupedUsers = groupedUsers;\n      console.log(this.groupedUsers);\n\n      // return groupedUsers\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.container {\n  width: 1000px;\n  margin: 0 auto;\n}\n\n.search-input {\n  width: 200px;\n  margin-right: 10px;\n}\n\n.sort-select {\n  width: 120px;\n}\n\n.user-list {\n  list-style: none;\n  padding: 0;\n}\n\n.user-list li {\n  cursor: pointer;\n  margin-bottom: 20px;\n}\n\n.user-list h3 {\n  margin-bottom: 10px;\n  display: inline-block;\n  width: 100%; // 设置宽度为100%\n  padding: 5px 10px;\n  background-color: #f5f5f5;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  border-radius: 4px;\n}\n\n.el-header {\n  //Header的样式\n  padding: 0 0 0 0;\n  background-color: #fff;\n}\n\n.user-avatar {\n  width: 70px; // 调整头像宽度\n  height: 70px; // 调整头像高度\n  border-radius: 50%;\n  margin-right: 10px;\n}\n\n.user-list ul {\n  list-style: none;\n  padding: 0;\n}\n\n.user-list ul li {\n  display: flex;\n  align-items: center;\n}\n\n.user-list ul li .user-name {\n    font-weight: bold;\n    font-size: 1.2em;\n}\n\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}