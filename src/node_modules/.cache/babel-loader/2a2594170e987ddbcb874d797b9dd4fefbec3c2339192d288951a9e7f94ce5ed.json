{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from \"vue\";\nimport router from \"../router/index\";\nimport { defineProps } from \"vue\";\nimport { reactive, onMounted } from \"vue\";\nimport { ArrowDown } from \"@element-plus/icons-vue\";\nimport { mapState } from \"vuex\";\nimport { calendarEmits } from \"element-plus\";\nexport default {\n  setup() {\n    // 获取父组件的函数\n    // const { isCollapse, handleCollapse } = defineProps(['isCollapse', 'handleCollapse'])\n    //// 鼠标移动个人信息展示\n    let show = ref(false);\n    const isShowUserInfo = type => {\n      type === \"show\" ? show.value = true : show.value = false;\n    };\n    const memberspage = () => {\n      router.push(\"/members\");\n    };\n    const NewsLetter = () => {\n      router.push(\"/NewsLetter\");\n    };\n    const Photo = () => {\n      router.push(\"/Photo\");\n    };\n    const profile = () => {\n      router.push(\"/profile\");\n    };\n    const editform = () => {\n      router.push(\"/edit\");\n    };\n    const Rally = () => {\n      router.push(\"/rally\");\n    };\n    const calendar = () => {\n      router.push(\"/calendar\");\n    };\n    const opendocument = () => {\n      router.push(\"/document\");\n    };\n\n    // // 获取用户信息\n\n    // const userInfo = reactive({\n    //   name: '',\n    //   headImg: ''\n    // })\n    const getUserInfoData = async () => {\n      const res = await getUserInfo();\n      if (res?.name && res?.headImg) {\n        userInfo.name = res.name;\n        userInfo.headImg = res.headImg;\n      }\n    };\n    onMounted(() => {\n      // getUserInfoData()\n    });\n    return {\n      // isCollapse\n      isShowUserInfo,\n      show,\n      memberspage,\n      Photo,\n      NewsLetter,\n      profile,\n      editform,\n      Rally,\n      calendar,\n      opendocument\n    };\n  },\n  methods: {\n    openwebiste() {\n      window.open(\"https://www.akaranacaravanclub.co.nz/\");\n    },\n    logout() {\n      this.$store.commit({\n        type: \"RESET_USERINFO\"\n      });\n      localStorage.removeItem(\"@#@TOKEN\");\n      router.push({\n        name: \"login\"\n      });\n    }\n  },\n  computed: {\n    gravatarUrl() {\n      if (this.userInfo) {\n        return this.userInfo.avatar === null ? \"http://akarana.oss-ap-southeast-1.aliyuncs.com/car1.jpg\" : this.userInfo.avatar;\n      }\n      return \"\";\n    },\n    ...mapState({\n      username: state => state.userInfo.username,\n      userInfo: state => state.userInfo\n    })\n  }\n};","map":{"version":3,"names":["ref","router","defineProps","reactive","onMounted","ArrowDown","mapState","calendarEmits","setup","show","isShowUserInfo","type","value","memberspage","push","NewsLetter","Photo","profile","editform","Rally","calendar","opendocument","getUserInfoData","res","getUserInfo","name","headImg","userInfo","methods","openwebiste","window","open","logout","$store","commit","localStorage","removeItem","computed","gravatarUrl","avatar","username","state"],"sources":["/Users/wucongzhen/Documents/GitHub/Akarana/src/src/components/Header.vue"],"sourcesContent":["<template>\n  <div class=\"header\">\n    <div class=\"homeIcon\">\n      <!-- <el-icon size=\"30px\" @click=\"handleCollapse\" :style=\"{ transform: isCollapse ? '' : 'rotate(180deg)' }\">\n        <Expand />\n      </el-icon> -->\n      <!-- 点击跳转到/home -->\n\n      <el-link :underline=\"false\" type=\"primary\" href=\"/home\">\n        <span style=\"text-decoration: none\"> <el-icon><HomeFilled /></el-icon>&nbsp;Home </span>\n      </el-link>\n    </div>\n\n    <el-dropdown size=\"large\">\n      <span class=\"el-dropdown-link\">\n        <el-icon><Menu /></el-icon>&nbsp; Activity\n        <el-icon class=\"el-icon--right\">\n          <arrow-down />\n        </el-icon>\n      </span>\n      <template #dropdown>\n        <el-dropdown-menu>\n          <el-dropdown-item @click=\"Rally\"><el-icon><StarFilled /></el-icon>All activitys</el-dropdown-item>\n          <el-dropdown-item @click=\"Photo\"><el-icon><Picture /></el-icon>Photo</el-dropdown-item>\n          <el-dropdown-item @click=\"calendar\"><el-icon><Calendar /></el-icon>Calendar</el-dropdown-item>\n\n        </el-dropdown-menu>\n      </template>\n    </el-dropdown>\n\n    <el-dropdown size=\"large\" disabled>\n      <span class=\"el-dropdown-link\" @click=\"memberspage\" >\n         <el-icon><Menu /></el-icon> &nbsp;Members\n        \n      </span>\n      <template #dropdown>\n        <!-- <el-dropdown-menu>\n          <el-dropdown-item @click=\"memberspage\"><el-icon><ChatLineRound /></el-icon>Members</el-dropdown-item>\n        </el-dropdown-menu> -->\n      </template>\n    </el-dropdown>\n\n    <el-dropdown size=\"large\">\n      \n      <span class=\"el-dropdown-link\">\n        <el-icon><User /></el-icon>\n        &nbsp;About me\n        <el-icon class=\"el-icon--right\">\n          <arrow-down />\n        </el-icon>\n      </span>\n      <template #dropdown>\n        <el-dropdown-menu>\n          <el-dropdown-item @click=\"profile\"><el-icon><Edit /></el-icon> My profile</el-dropdown-item>\n          <el-dropdown-item @click=\"editform\"><el-icon><Avatar /></el-icon>Edit my Avatar</el-dropdown-item>\n        </el-dropdown-menu>\n      </template>\n    </el-dropdown>\n\n    <el-dropdown size=\"large\">\n      <span class=\"el-dropdown-link\">\n        <el-icon><InfoFilled /></el-icon>\n        &nbsp;More information\n        <el-icon class=\"el-icon--right\">\n          <arrow-down />\n        </el-icon>\n      </span>\n      <template #dropdown>\n        <el-dropdown-menu>\n   \n          <el-dropdown-item @click=\"openwebiste\"><el-icon><Promotion /></el-icon> Our website</el-dropdown-item>\n          <el-dropdown-item @click=\"opendocument\"> <el-icon><Document /></el-icon> About this members only website</el-dropdown-item>\n          \n        </el-dropdown-menu>\n      </template>\n    </el-dropdown>\n\n    <span class=\"username\"> </span>\n\n    <div\n      class=\"user\"\n      @mouseenter=\"isShowUserInfo('show')\"\n      @mouseleave=\"isShowUserInfo('leave')\"\n    >\n      <!-- 右上角头像 -->\n\n      <img :src=\"gravatarUrl\" alt=\"用户头像\" class=\"user-avatar\" />\n      <!-- <span>\n        {{ userInfo.firstName }}\n      </span> -->\n      <div class=\"userInfo\" v-show=\"show\">\n        <div @click=\"logout\">Log out</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport router from \"../router/index\";\nimport { defineProps } from \"vue\";\nimport { reactive, onMounted } from \"vue\";\n\nimport { ArrowDown } from \"@element-plus/icons-vue\";\nimport { mapState } from \"vuex\";\nimport { calendarEmits } from \"element-plus\";\nexport default {\n  setup() {\n    // 获取父组件的函数\n    // const { isCollapse, handleCollapse } = defineProps(['isCollapse', 'handleCollapse'])\n    //// 鼠标移动个人信息展示\n    let show = ref(false);\n    const isShowUserInfo = (type) => {\n      type === \"show\" ? (show.value = true) : (show.value = false);\n    };\n\n    const memberspage = () => {\n      router.push(\"/members\");\n    };\n    const NewsLetter = () => {\n      router.push(\"/NewsLetter\");\n    };\n    const Photo = () => {\n      router.push(\"/Photo\");\n    };\n    const profile = () => {\n      router.push(\"/profile\");\n    };\n    const editform = () => {\n      router.push(\"/edit\");\n    };\n    const Rally = () => {\n      router.push(\"/rally\");\n    };\n    const calendar = () => {\n      router.push(\"/calendar\");\n    };\n    const opendocument = () => {\n      router.push(\"/document\");\n    };\n\n    // // 获取用户信息\n\n    // const userInfo = reactive({\n    //   name: '',\n    //   headImg: ''\n    // })\n    const getUserInfoData = async () => {\n      const res = await getUserInfo();\n      if (res?.name && res?.headImg) {\n        userInfo.name = res.name;\n        userInfo.headImg = res.headImg;\n      }\n    };\n    onMounted(() => {\n      // getUserInfoData()\n    });\n\n    return {\n      // isCollapse\n      isShowUserInfo,\n      show,\n      memberspage,\n      Photo,\n      NewsLetter,\n      profile,\n      editform,\n      Rally,\n      calendar,\n      opendocument,\n    };\n  },\n  methods: {\n    openwebiste() {\n      window.open(\"https://www.akaranacaravanclub.co.nz/\");\n    },\n    logout() {\n      this.$store.commit({ type: \"RESET_USERINFO\" });\n      localStorage.removeItem(\"@#@TOKEN\");\n      router.push({ name: \"login\" });\n    },\n  },\n  computed: {\n    gravatarUrl() {\n      if (this.userInfo) {\n        return this.userInfo.avatar === null\n          ? \"http://akarana.oss-ap-southeast-1.aliyuncs.com/car1.jpg\"\n          : this.userInfo.avatar;\n      }\n      return \"\";\n    },\n    ...mapState({\n      username: (state) => state.userInfo.username,\n      userInfo: (state) => state.userInfo,\n    }),\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.el-dropdown-link {\n  font-size: 25;\n}\n\n.el-dropdown-link {\n  cursor: pointer;\n  color: #303133;\n  display: flex;\n  align-items: center;\n}\n\n.userInfo {\n  z-index: 22;\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  right: 20px;\n  top: 60px;\n  background-color: white;\n  border: 5px;\n  box-shadow: 0 4px 8px 0 rgb(7 17 27 / 10%);\n  text-align: center;\n  // 往左移动\n  transform: translateX(30%);\n\n\n  div:hover {\n    color: #409eff;\n  }\n\n  div {\n    padding: 10px;\n  }\n}\n\n.header {\n  position: relative;\n  font-weight: 700;\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  background-color: #fafafa;\n\n  .homeIcon {\n    display: flex;\n    align-items: center;\n\n    height: 60px;\n    padding-left: 15px;\n    cursor: pointer;\n\n    span {\n      margin-left: 10px;\n    }\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  .user {\n    align-items: center;\n    display: flex;\n    justify-content: center;\n    width: 80px;\n    height: 60px;\n    span {\n      margin-right: 20px;\n    }\n    img {\n      margin: 0 10px;\n      width: 50px;\n      height: 50px;\n      border-radius: 50%;\n    }\n  }\n}\n\n.el-radio-button__inner {\n  padding: 0;\n}\n\n.el-menu--collapse {\n  border: none;\n}\n\n.el-menu:not(.el-menu--collapse) {\n  width: 200px;\n  min-height: 50px;\n  border: none;\n}\n\nspan {\n  margin-right: 20px;\n}\n.el-dropdown-link:focus {\n  outline: none;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}