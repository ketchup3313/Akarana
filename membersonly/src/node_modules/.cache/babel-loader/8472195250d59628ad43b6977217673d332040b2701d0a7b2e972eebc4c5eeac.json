{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, withCtx as _withCtx, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-68725f8d\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"user-list\"\n};\nconst _hoisted_3 = [\"onClick\"];\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = {\n  class: \"user-name\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Header = _resolveComponent(\"Header\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_option = _resolveComponent(\"el-option\");\n  const _component_el_select = _resolveComponent(\"el-select\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_Header, {\n    handleCollapse: _ctx.handleCollapse,\n    isCollapse: _ctx.isCollapse\n  }, null, 8, [\"handleCollapse\", \"isCollapse\"]), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_el_input, {\n    class: \"search-input\",\n    modelValue: $data.searchKey,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchKey = $event),\n    placeholder: \"Search\",\n    \"prefix-icon\": \"Search\",\n    onInput: $options.group\n  }, null, 8, [\"modelValue\", \"onInput\"]), _createVNode(_component_el_select, {\n    modelValue: $data.sortOrder,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.sortOrder = $event),\n    class: \"sort-select\",\n    placeholder: \"Sort Order\",\n    onChange: $options.group\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.sortOptions, option => {\n      return _openBlock(), _createBlock(_component_el_option, {\n        key: option.value,\n        value: option.value,\n        label: option.label\n      }, null, 8, [\"value\", \"label\"]);\n    }), 128))]),\n    _: 1\n  }, 8, [\"modelValue\", \"onChange\"]), _createElementVNode(\"ul\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.groupedUsers, (users, firstLetter) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: firstLetter\n    }, [_createElementVNode(\"h3\", null, _toDisplayString(firstLetter), 1), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(users, user => {\n      return _openBlock(), _createElementBlock(\"li\", {\n        onClick: $event => $options.userInfo(user.id),\n        key: user.name\n      }, [_createElementVNode(\"img\", {\n        src: user.avatar || 'http://akarana.oss-ap-southeast-1.aliyuncs.com/uploads/avatars/Yijun-1682600472281.jpeg',\n        alt: \"用户头像\",\n        class: \"user-avatar\"\n      }, null, 8, _hoisted_4), _createElementVNode(\"span\", _hoisted_5, _toDisplayString(user.name), 1)], 8, _hoisted_3);\n    }), 128))])]);\n  }), 128))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_createVNode","_component_Header","handleCollapse","_ctx","isCollapse","_createElementVNode","_hoisted_1","_component_el_input","$data","searchKey","$event","placeholder","onInput","$options","group","_component_el_select","sortOrder","onChange","_Fragment","_renderList","sortOptions","option","_createBlock","_component_el_option","key","value","label","_hoisted_2","groupedUsers","users","firstLetter","_toDisplayString","user","onClick","userInfo","id","name","src","avatar","alt","_hoisted_5"],"sources":["/Users/wucongzhen/Documents/GitHub/Akarana/src/src/views/Members.vue"],"sourcesContent":["<template>\n    <div>\n        <Header :handleCollapse=\"handleCollapse\" :isCollapse=\"isCollapse\" />\n\n        <div class=\"container\">\n\n            <el-input class=\"search-input\" v-model=\"searchKey\" placeholder=\"Search\" prefix-icon=\"Search\"  @input=\"group\"/>\n            <el-select v-model=\"sortOrder\" class=\"sort-select\" placeholder=\"Sort Order\" @change=\"group\">\n                <el-option v-for=\"option in sortOptions\" :key=\"option.value\" :value=\"option.value\"\n                    :label=\"option.label\">\n                </el-option>\n            </el-select>\n            <ul class=\"user-list\">\n                <li v-for=\"(users, firstLetter,) in groupedUsers\" :key=\"firstLetter\">\n                    <h3>{{ firstLetter }}</h3>\n                    <ul>\n                        <li @click=\"userInfo(user.id)\" v-for=\"user in users\" :key=\"user.name\">\n                            <img :src=\"user.avatar || 'http://akarana.oss-ap-southeast-1.aliyuncs.com/uploads/avatars/Yijun-1682600472281.jpeg'\" alt=\"用户头像\" class=\"user-avatar\" />\n                            <span class=\"user-name\">{{ user.name }}</span>\n                        </li>\n                    </ul>\n                </li>\n            </ul>\n        </div>\n    </div>\n</template>\n\n\n\n<script>\nimport { ref, computed } from \"vue\";\nimport http from \"@/utils/request\";\nimport { ElLoading } from \"element-plus\";\n\nexport default {\n  // beforeCreate() {\n  //     alert('Hello')\n  // },\n  created() {\n    this.getList();\n    console.log(this);\n  },\n  data() {\n    return {\n      users: [],\n      groupedUsers: {},\n      searchKey: \"\",\n\n      sortOrder: \"asc\",\n      sortOptions: [\n        { value: \"asc\", label: \"A-Z\" },\n        { value: \"desc\", label: \"Z-A\" },\n      ],\n    };\n  },\n  methods: {\n    // 跳转到用户详情\n    userInfo(id) {\n      this.$router.push({\n        path: \"/MembersDetails\",\n        query: {\n          id,\n        },\n      });\n    },\n    async getList() {\n      let { data, status } = (await http.get(`/api/members`)).data;\n      if (status === 0) {\n        this.users = data.map((item) => {\n          return {\n            ...item,\n            name: item.firstName + \" \" + item.lastName,\n            avatar: item.avatar,\n          };\n        });\n\n        this.group();\n      } else {\n        this.users = [];\n      }\n    },\n    group(serch) {\n      console.log(1);\n      let users = [...this.users];\n\n      const filtered = users.filter((user) => {\n        return user.name.toLowerCase().includes(this.searchKey.toLowerCase());\n      });\n\n      console.log(this.sortOrder);\n\n      if (this.sortOrder === \"asc\") {\n        filtered.sort((a, b) => a.name.localeCompare(b.name));\n      } else {\n        filtered.sort((a, b) => b.name.localeCompare(a.name));\n      }\n\n      const groupedUsers = {};\n      filtered.forEach((user) => {\n        const firstLetter = user.name[0].toUpperCase();\n        if (!groupedUsers[firstLetter]) {\n          groupedUsers[firstLetter] = [];\n        }\n        groupedUsers[firstLetter].push(user);\n      });\n\n      this.groupedUsers = groupedUsers;\n      console.log(this.groupedUsers);\n\n      // return groupedUsers\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.container {\n  width: 1000px;\n  margin: 0 auto;\n}\n\n.search-input {\n  width: 200px;\n  margin-right: 10px;\n}\n\n.sort-select {\n  width: 120px;\n}\n\n.user-list {\n  list-style: none;\n  padding: 0;\n}\n\n.user-list li {\n  cursor: pointer;\n  margin-bottom: 20px;\n}\n\n.user-list h3 {\n  margin-bottom: 10px;\n  display: inline-block;\n  width: 100%; // 设置宽度为100%\n  padding: 5px 10px;\n  background-color: #f5f5f5;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  border-radius: 4px;\n}\n\n.el-header {\n  //Header的样式\n  padding: 0 0 0 0;\n  background-color: #fff;\n}\n\n.user-avatar {\n  width: 70px; // 调整头像宽度\n  height: 70px; // 调整头像高度\n  border-radius: 50%;\n  margin-right: 10px;\n}\n\n.user-list ul {\n  list-style: none;\n  padding: 0;\n}\n\n.user-list ul li {\n  display: flex;\n  align-items: center;\n}\n\n.user-list ul li .user-name {\n    font-weight: bold;\n    font-size: 1.2em;\n}\n\n</style>\n"],"mappings":";;;EAIaA,KAAK,EAAC;AAAW;;EAQdA,KAAK,EAAC;AAAW;;;;EAMCA,KAAK,EAAC;AAAW;;;;;;uBAjB/CC,mBAAA,CAuBM,cAtBFC,YAAA,CAAoEC,iBAAA;IAA3DC,cAAc,EAAEC,IAAA,CAAAD,cAAc;IAAGE,UAAU,EAAED,IAAA,CAAAC;iDAEtDC,mBAAA,CAmBM,OAnBNC,UAmBM,GAjBFN,YAAA,CAA8GO,mBAAA;IAApGT,KAAK,EAAC,cAAc;gBAAUU,KAAA,CAAAC,SAAS;+DAATD,KAAA,CAAAC,SAAS,GAAAC,MAAA;IAAEC,WAAW,EAAC,QAAQ;IAAC,aAAW,EAAC,QAAQ;IAAGC,OAAK,EAAEC,QAAA,CAAAC;0CACtGd,YAAA,CAIYe,oBAAA;gBAJQP,KAAA,CAAAQ,SAAS;+DAATR,KAAA,CAAAQ,SAAS,GAAAN,MAAA;IAAEZ,KAAK,EAAC,aAAa;IAACa,WAAW,EAAC,YAAY;IAAEM,QAAM,EAAEJ,QAAA,CAAAC;;sBACtE,MAA6B,E,kBAAxCf,mBAAA,CAEYmB,SAAA,QAAAC,WAAA,CAFgBX,KAAA,CAAAY,WAAW,EAArBC,MAAM;2BAAxBC,YAAA,CAEYC,oBAAA;QAF8BC,GAAG,EAAEH,MAAM,CAACI,KAAK;QAAGA,KAAK,EAAEJ,MAAM,CAACI,KAAK;QAC5EC,KAAK,EAAEL,MAAM,CAACK;;;;qCAGvBrB,mBAAA,CAUK,MAVLsB,UAUK,I,kBATD5B,mBAAA,CAQKmB,SAAA,QAAAC,WAAA,CAR+BX,KAAA,CAAAoB,YAAY,GAApCC,KAAK,EAAEC,WAAW;yBAA9B/B,mBAAA,CAQK;MAR8CyB,GAAG,EAAEM;IAAW,IAC/DzB,mBAAA,CAA0B,YAAA0B,gBAAA,CAAnBD,WAAW,OAClBzB,mBAAA,CAKK,c,kBAJDN,mBAAA,CAGKmB,SAAA,QAAAC,WAAA,CAHyCU,KAAK,EAAbG,IAAI;2BAA1CjC,mBAAA,CAGK;QAHAkC,OAAK,EAAAvB,MAAA,IAAEG,QAAA,CAAAqB,QAAQ,CAACF,IAAI,CAACG,EAAE;QAA0BX,GAAG,EAAEQ,IAAI,CAACI;UAC5D/B,mBAAA,CAAsJ;QAAhJgC,GAAG,EAAEL,IAAI,CAACM,MAAM;QAA+FC,GAAG,EAAC,MAAM;QAACzC,KAAK,EAAC;+BACtIO,mBAAA,CAA8C,QAA9CmC,UAA8C,EAAAT,gBAAA,CAAnBC,IAAI,CAACI,IAAI,M"},"metadata":{},"sourceType":"module","externalDependencies":[]}